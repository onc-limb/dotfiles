# Obsidian Vault Context

## Vault 構造

```
vault/
├── daily/                    # デイリーノート（手動記録）
│   └── yyyy-mm-dd.md
├── daily-report/             # 日報（生成）
│   └── yyyy-mm-dd.md
├── monthly-report/           # 月次報告書（生成）
│   └── yyyy-mm.md
├── work/                     # プロジェクト・タスク別ノート（生成）
│   └── {プロジェクト名}.md
├── tech/                     # 技術別ノート（生成）
│   └── {技術名}.md
├── private/                  # プライベート作業メモ（生成）
│   └── {トピック名}.md
└── .obsidian/                # Obsidian設定（変更禁止）
```

### 命名規則の例

| ディレクトリ | ファイル名例 |
|---|---|
| `daily/` | `2026-02-09.md` |
| `daily-report/` | `2026-02-09.md` |
| `monthly-report/` | `2026-02.md` |

## デイリーノート

- 場所: `daily/`
- 命名規則: `yyyy-mm-dd.md`（例: `2026-02-09.md`）

### テンプレート構造

```markdown
## work

### #ref/プロジェクト名
⏱ 開始 09:00
- 作業内容
⏸ 休憩開始 12:00
⏸ 休憩終了 13:00
- 作業内容
⏱ 終了 18:00

## tech

### #ref/技術名
- 学んだこと・調べたこと

## private

### #ref/トピック名
- 内容

## memo

- 分類に属さない一般的なメモ
```

### セクションと出力先の対応

| デイリーノートのセクション | 振り分け先ディレクトリ | 説明 |
|---|---|---|
| `## work` 配下の `### #ref/xxx` | `work/xxx.md` | プロジェクト・タスク単位 |
| `## tech` 配下の `### #ref/xxx` | `tech/xxx.md` | 技術トピック単位 |
| `## private` 配下の `### #ref/xxx` | `private/xxx.md` | プライベートトピック単位 |
| `## memo` | 振り分けなし | デイリーノート内に留まる。レポートにも含めない |

### 分類タグ（`### #ref/xxx`）

各セクション内で `### #ref/xxx` の形式で見出し兼タグを付けて内容を分類する。`xxx` の部分が振り分け先ファイル名と対応する。

### 作業時間の記録

各分類ブロック内で以下の形式で作業時間を記録する:

- `⏱ 開始 HH:MM` — 作業開始
- `⏸ 休憩開始 HH:MM` — 休憩開始
- `⏸ 休憩終了 HH:MM` — 休憩終了
- `⏱ 終了 HH:MM` — 作業終了

## 振り分けファイルのフォーマット

`work/`, `tech/`, `private/` 配下のファイルには日付ヘッダー付きで追記する:

```markdown
## 2026-02-09

- 該当する内容をここに記載
- 複数項目がある場合は箇条書き
```

## レポート生成

各レポートはソースを段階的に集約して生成する。

| レポート | ソース | 出力先 |
|---|---|---|
| 日報 | `daily/yyyy-mm-dd.md` の `## work` セクション | `daily-report/yyyy-mm-dd.md` |
| 月次報告書 | 該当月の日報を集約 | `monthly-report/yyyy-mm.md` |

レポートの詳細なフォーマットは各スキル定義を参照。

## スキル一覧

| スキル名 | 説明 | 使い方例 |
|---|---|---|
| `/daily-report` | デイリーノートから日報を作成 | `/daily-report 2026-02-09` |
| `/monthly-report` | 月次作業報告書を作成（note-reader エージェント使用） | `/monthly-report 2026-02` |
| `/sort-notes` | デイリーノートの内容を分類別ファイルに振り分け | `/sort-notes 2026-02-09` |
| `/refine-daily` | デイリーノートの不足情報を対話形式で補完 | `/refine-daily 2026-02-09` |

## ルール

- `.obsidian/` ディレクトリ内のファイルは絶対に変更しないこと
- `daily/` 配下のデイリーノートは読み取り専用として扱い、内容を勝手に書き換えないこと（`refine-daily` による対話的な補完は除く）
- 生成ファイルへの追記時は日付ヘッダー（`## yyyy-mm-dd`）を付けること
- 同じ日付・期間の内容が既に存在する場合は重複追記しないこと
- ノートの既存の書き方やフォーマットを尊重すること
