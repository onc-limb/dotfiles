---
name: monthly-report
description: 月次作業報告書を作成する
context: fork
agent: note-reader
---

## 指示

指定された月の日報を集約し、クライアント向け月次作業報告書を作成してください。

対象月: $ARGUMENTS（例: 2026-02。未指定の場合は今月を使用）

### 手順

1. note-reader に以下の情報収集を依頼する:

   **読み取り対象**: `daily-report/YYYY-MM-*.md`（対象月の全日報）

   **収集する情報**:
   - 各日の稼働時間（開始・終了・休憩・合計）を `## 稼働時間` テーブルから抽出
   - 各日のプロジェクト別作業内容を `## 作業内容` から抽出
   - 各日の成果・納品物を `## 進捗・成果` から抽出
   - 各日の課題・ブロッカーを `## 課題・ブロッカー` から抽出
   - 最終日報の `## 翌営業日の予定` を翌月計画の参考として抽出

   **日報が存在しない場合**: `daily/` 配下のデイリーノートの `## work` セクションにフォールバックし、可能な範囲で同等の情報を抽出する

2. note-reader から返された情報を集計する:
   - 月間合計: 稼働日数、総稼働時間
   - 週別集計: 各週の稼働日数・稼働時間
   - プロジェクト別集計: プロジェクトごとの作業日数・主な作業内容
   - 成果の一覧: 月間を通じた成果・納品物をまとめる
   - 課題の一覧: 未解決の課題やクライアント対応が必要な事項を抽出

3. `template.md` のフォーマットに沿って月次報告書を `monthly-report/YYYY-MM.md` に出力する

### 集計ルール

- **稼働日数**: 日報が存在する日（= 稼働した日）をカウントする
- **稼働時間**: 各日報の「稼働合計」を合算する。時間は `X時間XX分` 形式から数値に変換して計算し、最終的に `XXX時間XX分` 形式で表記する
- **週の区切り**: 月曜始まりとする。月初が月曜でない場合、その週は前月から続く第1週として扱う
- **プロジェクト別時間**: 日報の `## 作業内容` に時間帯記載がある場合はそこから推計する。時間帯の記載がない場合はプロジェクト数で均等按分する（按分した場合はその旨を注記する）
- **成果のまとめ**: 日次の粒度ではなく、月間の成果として再構成する。類似の作業は集約する（例: 複数日にわたるPRレビューは1項目にまとめる）
- **課題の扱い**: 月中に解決済みの課題は含めない。月末時点で未解決のもの、またはクライアント対応が必要なもののみ記載する

### 注意事項

- 全ての日報に目を通し、重要な作業・成果を漏れなく拾うこと
- クライアントが読む文書であるため、簡潔かつ専門的な文体で記載する
- 数値（時間・日数・件数）は正確に集計する。概算の場合はその旨を明記する
- テンプレートのセクションに該当する情報がない場合は「該当なし」ではなく、セクション自体を省略する
